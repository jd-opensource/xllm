include(cc_binary)
include(cc_library)

cc_library(
  NAME
    xtensor
  HDRS
    options.h
    phy_page.h
    phy_page_pool.h
    xtensor.h
    xtensor_manager.h
    xtensor_manager_client.h
    remote_xtensor_manager.h
    xtensor_manager_service.h
    xtensor_manager_server.h
    xtensor_manager_pool.h
    multi_layer_xtensor.h
    multi_layer_xtensor_transfer.h
  SRCS
    phy_page.cpp
    phy_page_pool.cpp
    xtensor.cpp
    xtensor_manager.cpp
    xtensor_manager_client.cpp
    remote_xtensor_manager.cpp
    xtensor_manager_service.cpp
    xtensor_manager_server.cpp
    xtensor_manager_pool.cpp
    multi_layer_xtensor.cpp
    multi_layer_xtensor_transfer.cpp
  DEPS
    torch
    :request
    :common
    glog::glog
    proto::xllm_proto
    :collective_service
    :platform
)